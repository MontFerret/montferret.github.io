<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ferret</title>

    <meta name="generator" content="Hugo 0.56.3" />

    <link
        href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700"
        rel="stylesheet"
    />

    
    <link rel="stylesheet" href="https://www.montferret.dev/sass/main.min.0bf6f170bedbf3f57c88d6bc8cb626ace29e3ce272224c13a0e1df666b1b3346.css" />
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png" />
    <link
        rel="apple-touch-icon"
        sizes="114x114"
        href="/favicon/apple-icon-114x114.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="120x120"
        href="/favicon/apple-icon-120x120.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="144x144"
        href="/favicon/apple-icon-144x144.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="152x152"
        href="/favicon/apple-icon-152x152.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="180x180"
        href="/favicon/apple-icon-180x180.png"
    />
    <link
        rel="icon"
        type="image/png"
        sizes="192x192"
        href="/favicon/android-icon-192x192.png"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
    <link rel="manifest" href="/favicon/manifest.json" />
    
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135792752-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-135792752-1');
    </script>
</head>
<body><nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/img/logo.png" width="30" height="30" /> <small class="logo">ferret</small>
            </a>

            <a
                id="navbar-burger"
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="primary-nav"
            >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        
        <div id="primary-nav" class="navbar-menu">
            <div class="navbar-start">
                
                
                
                        
                        <a href="/docs/introduction" class="navbar-item "
                        title=Project&#32;documentation id=docs>
                            Docs
                        </a>
                
                        
                        <a href="/blog/" class="navbar-item "
                        title=Blog id=blog>
                            Blog
                        </a>
                
            </div>

            <div class="navbar-end">
                
                
                        <a href="https://opencollective.com/ferret" class="navbar-item "
                        title=Open&#32;collective id=donate>
                            Donate
                        </a>
                
                        <a href="https://github.com/MontFerret/ferret" class="navbar-item "
                        title=GitHub&#32;repository id=github>
                            GitHub
                        </a>
                
            </div>
        </div>
    </div>
</nav>

<script>
    
    
    (function(){
        let navburger = document.getElementById("navbar-burger");
        navburger.addEventListener("click", function() {
            let target = this.getAttribute("data-target");
            let el = document.getElementById(target);

            el.classList.toggle("is-active");
        })
    })();
</script><div id="content">
    <div class="content section docs">
    <div class="columns">
        <section class="column is-2">
            <aside class="menu">
    
    








<p class="menu-label">
    General
</p>
<ul class="menu-list">
    
        
        <li>
            <a href="https://www.montferret.dev/docs/introduction/" class="">
                Introduction
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/installation/" class="">
                Installation
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/getting-started/" class="">
                Getting started
            </a>
        </li>
    


</ul>



    
        

        
            








<p class="menu-label">
    Query language
</p>
<ul class="menu-list">
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/introduction/" class="">
                Introduction
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/syntax/" class="">
                Syntax
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/operators/" class="">
                Operators
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/data-types/" class="">
                Data types
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/bind-parameters/" class="">
                Bind parameters
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/type-value-order/" class="is-active">
                Type and value order
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/query-results/" class="">
                Query results
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/query-errors/" class="">
                Query errors
            </a>
        </li>
    






</ul>

        
    



</aside>

        </section>
        <section id="main" class="column is-8">
            <article id="content" class="has-text-justified">
    

<h1 id="type-and-value-order">Type and value order</h1>

<p>When checking for equality or inequality or when determining the sort order of values, FQL uses a deterministic algorithm that takes both the data types and the actual values into account.</p>

<p>The compared operands are first compared by their data types, and only by their data values if the operands have the same data types.</p>

<p>The following type order is used when comparing data types:</p>

<pre class="hl">
    <code class="fql">
        
none < bool < number < string < array/list < object

    </code>
</pre>

<p>This means none is the smallest type in FQL and object is the type with the highest order. If the compared operands have a different type, then the comparison result is determined and the comparison is finished.</p>

<p>For example, the boolean true value will always be less than any numeric or string value, any array (even an empty array) or any object. Additionally, any string value (even an empty string) will always be greater than any numeric value, a boolean value, true or false</p>

<pre class="hl">
    <code class="fql">
        
none < false
none < true
none < 0
none < ''
none < ' '
none < '0'
none < 'abc'
none < [ ]
none < { }

false < true
false < 0
false < ''
false < ' '
false < '0'
false < 'abc'
false < [ ]
false < { }

true < 0
true < ''
true < ' '
true < '0'
true < 'abc'
true < [ ]
true < { }

0 < ''
0 < ' '
0 < '0'
0 < 'abc'
0 < [ ]
0 < { }

'' < ' '
'' < '0'
'' < 'abc'
'' < [ ]
'' < { }

[ ] < { }

    </code>
</pre>

<p>If the two compared operands have the same data types, then the operands values are compared. For the primitive types (none, boolean, number, and string), the result is defined as follows:</p>

<ul>
<li>none: none is equal to none</li>
<li>boolean: false is less than true</li>
<li>number: numeric values are ordered by their cardinal value</li>
<li>string: string values are ordered using a localized comparison, using the configured server language for sorting according to the alphabetical order rules of that language</li>
</ul>

<div class="notification is-info">
  Unlike in SQL, none can be compared to any value, including none itself, without the result being converted into none automatically.
</div>

<p>For compound, types the following special rules are applied:</p>

<p>Two array values are compared by comparing their individual elements position by position, starting at the first element. For each position, the element types are compared first. If the types are not equal, the comparison result is determined, and the comparison is finished. If the types are equal, then the values of the two elements are compared.</p>

<p>If an array element is itself a compound value (an array or an object), then the comparison algorithm will check the element&rsquo;s sub values recursively. The element&rsquo;s sub-elements are compared recursively.</p>

<pre class="hl">
    <code class="fql">
        
[ ] < [ 0 ]
[ 1 ] < [ 2 ]
[ false ] < [ true ]

    </code>
</pre>

<p>Two object operands are compared by checking attribute names and value. The attribute names are compared first. Before attribute names are compared, a combined array of all attribute names from both operands is created and sorted lexicographically. This means that the order in which attributes are declared in an object is not relevant when comparing two objects.</p>

<p>The combined and sorted array of attribute names is then traversed, and the respective attributes from the two compared operands are then looked up. If one of the objects does not have an attribute with the sought name, its attribute value is considered to be none. Finally, the attribute value of both objects is compared using the before mentioned data type and value comparison. The comparisons are performed for all object / document attributes until there is an unambiguous comparison result. If an unambiguous comparison result is found, the comparison is finished. If there is no unambiguous comparison result, the two compared objects are considered equal.</p>

<pre class="hl">
    <code class="fql">
        
{ } < { "a" : 1 }
{ } < { "a" : none }
{ "a" : 1 } < { "a" : 2 }
{ "b" : 1 } < { "a" : 0 }
{ "a" : { "c" : true } } < { "a" : { "c" : 0 } }
{ "a" : { "c" : true, "a" : 0 } } < { "a" : { "c" : false, "a" : 1 } }

{ "a" : 1, "b" : 2 } == { "b" : 2, "a" : 1 }

    </code>
</pre>

</article>
        </section>
    </div>
</div>

        </div><footer class="footer">
    <div class="columns">
        <div class="column is-4 is-hidden-mobile">
            <a href="https://github.com/MontFerret">
                © 2018-2019 MontFerret Team
            </a>
        </div>
        <div class="column is-4 has-text-centered">
            <img src="/img/logo.png" width="30" height="30" />
        </div>
        <div class="column is-4 has-text-right is-hidden-mobile">
            <a href="#">BACK TO TOP Δ</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js" integrity="sha256-js+I1fdbke/DJrW2qXQlrw7VUEqmdeFeOW37UC0bEiU=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/bash.min.js" integrity="sha256-zXrlim8wsIvcEFjsD3THiAfTvtPZifqx8q0rxegiWQc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/go.min.js" integrity="sha256-LVuWfOU0rWFMCJNl1xb3K2HSWfxtK4IPbqEerP1P83M=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@montferret/highlight-fql@1.0.1/index.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            
            hljs.registerLanguage('fql', registerFQL);
            hljs.initHighlighting();
        });
    </script>
</footer>
</body>
</html>
