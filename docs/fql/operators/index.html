<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ferret</title>

    <meta name="generator" content="Hugo 0.69.2" />

    <link
        href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700"
        rel="stylesheet"
    />

    
    <link rel="stylesheet" href="https://www.montferret.dev/sass/main.min.e8072988abf11ab16f93c62483f40e68182f8378472a0d3ab2a6280c0f21451b.css" />
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png" />
    <link
        rel="apple-touch-icon"
        sizes="114x114"
        href="/favicon/apple-icon-114x114.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="120x120"
        href="/favicon/apple-icon-120x120.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="144x144"
        href="/favicon/apple-icon-144x144.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="152x152"
        href="/favicon/apple-icon-152x152.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="180x180"
        href="/favicon/apple-icon-180x180.png"
    />
    <link
        rel="icon"
        type="image/png"
        sizes="192x192"
        href="/favicon/android-icon-192x192.png"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
    <link rel="manifest" href="/favicon/manifest.json" />
    
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135792752-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-135792752-1');
    </script>
</head>
<body><nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/img/logo.png" width="30" height="30" /> <small class="logo">ferret</small>
            </a>

            <a
                id="navbar-burger"
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="primary-nav"
            >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        
        <div id="primary-nav" class="navbar-menu">
            <div class="navbar-start">
                
                
                
                        
                        <a href="/docs/introduction" class="navbar-item "
                        title=Project&#32;documentation id=docs>
                            Docs
                        </a>
                
                        
                        <a href="/blog/" class="navbar-item "
                        title=Blog id=blog>
                            Blog
                        </a>
                
            </div>

            <div class="navbar-end">
                
                
                        <a href="https://opencollective.com/ferret" class="navbar-item "
                        title=Open&#32;collective id=donate>
                            Donate
                        </a>
                
                        <a href="https://github.com/MontFerret/ferret" class="navbar-item "
                        title=GitHub&#32;repository id=github>
                            GitHub
                        </a>
                
            </div>
        </div>
    </div>
</nav>

<script>
    
    
    (function(){
        let navburger = document.getElementById("navbar-burger");
        navburger.addEventListener("click", function() {
            let target = this.getAttribute("data-target");
            let el = document.getElementById(target);

            el.classList.toggle("is-active");
        })
    })();
</script><div id="content">
    <div class="content section docs">
    <div class="columns">
        <section class="column is-2">
            <aside class="menu">
    
    








<p class="menu-label">
    General
</p>
<ul class="menu-list">
    
        
        <li>
            <a href="https://www.montferret.dev/docs/introduction/" class="">
                Introduction
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/installation/" class="">
                Installation
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/getting-started/" class="">
                Getting started
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/" class="">
                Query language
            </a>
        </li>
    


</ul>



    
        

        
            








<p class="menu-label">
    Query language
</p>
<ul class="menu-list">
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/introduction/" class="">
                Introduction
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/syntax/" class="">
                Syntax
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/operators/" class="is-active">
                Operators
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/data-types/" class="">
                Data types
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/bind-parameters/" class="">
                Bind parameters
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/type-value-order/" class="">
                Type and value order
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/query-results/" class="">
                Query results
            </a>
        </li>
    
        
        <li>
            <a href="https://www.montferret.dev/docs/fql/query-errors/" class="">
                Query errors
            </a>
        </li>
    






</ul>

        
    



</aside>

        </section>
        <section id="main" class="column is-8">
            <article id="content" class="has-text-justified">
    <h1 id="operators">Operators</h1>
<p>FQL supports a number of operators that can be used in expressions. There are comparison, logical, arithmetic, and the ternary operator.</p>
<h2 id="comparison-operators">Comparison operators</h2>
<p>Comparison (or relational) operators compare two operands. They can be used with any input data types, and will return a boolean result value.</p>
<p>The following comparison operators are supported:</p>
<ul>
<li><code>==</code> equality</li>
<li><code>!=</code> inequality</li>
<li><code>&lt;</code> less than</li>
<li><code>&lt;=</code> less or equal</li>
<li><code>&gt;</code> greater than</li>
<li><code>&gt;=</code> greater or equal</li>
<li><code>IN</code> test if a value is contained in an array</li>
<li><code>NOT IN</code> test if a value is not contained in an array</li>
<li><code>LIKE</code> tests if a string value matches a pattern</li>
<li><code>=~</code> tests if a string value matches a regular expression</li>
<li><code>!~</code> tests if a string value does not match a regular expression</li>
</ul>
<p>Each of the comparison operators returns a boolean value if the comparison can be evaluated and returns true if the comparison evaluates to true, and false otherwise.</p>
<p>The comparison operators accept any data types for the first and second operands. However, <code>IN</code> and <code>NOT IN</code> will only return a meaningful result if their right-hand operand is an array, and <code>LIKE</code> will only execute if both operands are string values. The comparison operators will not perform any implicit type casts if the compared operands have different or non-sensible types.</p>
<p>Some examples for comparison operations in FQL:</p>
<pre class="hl">
    <code class="fql">
        
0 == NONE                 // false
1 > 0                     // true
true != NONE              // true
45 <= "yikes!"            // true
65 != "65"                // true
65 == 65                  // true
1.23 > 1.32               // false
1.5 IN [ 2, 3, 1.5 ]      // true
"foo" IN NONE             // false
42 NOT IN [ 17, 40, 50 ]  // true
"abc" == "abc"            // true
"abc" == "ABC"            // false
"foo" LIKE "f%"           // true
"foo" =~ "^f[o].$"        // true
"foo" !~ "[a-z]+bar$"     // true

    </code>
</pre>
<p>The <code>LIKE</code> operator checks whether its left operand matches the pattern specified in its right operand. The pattern can consist of regular characters and wildcards. The supported wildcards are _ to match a single arbitrary character, and % to match any number of arbitrary characters. Literal % and _ need to be escaped with a backslash. Backslashes need to be escaped themselves, which effectively means that two reverse solidus characters need to preceed a literal percent sign or underscore. In arangosh, additional escaping is required, making it four backslashes in total preceeding the to-be-escaped character.</p>
<pre class="hl">
    <code class="fql">
        
"abc" LIKE "a%"              // true
"abc" LIKE "_bc"             // true
"a_b_foo" LIKE "a\\_b\\_foo" // true

    </code>
</pre>
<h2 id="array-comparison-operators">Array comparison operators</h2>
<p>The comparison operators also exist as array variant. In the array variant, the operator is prefixed with one of the keywords <code>ALL</code>, <code>ANY</code> or <code>NONE</code>. Using one of these keywords changes the operator behavior to execute the comparison operation for all, any, or none of its left hand argument values. It is therefore expected that the left hand argument of an array operator is an array.</p>
<pre class="hl">
    <code class="fql">
        
[ 1, 2, 3 ] ALL IN [ 2, 3, 4 ]   // false
[ 1, 2, 3 ] ALL IN [ 1, 2, 3 ]   // true
[ 1, 2, 3 ] NONE IN [ 3 ]        // false
[ 1, 2, 3 ] NONE IN [ 23, 42 ]   // true
[ 1, 2, 3 ] ANY IN [ 4, 5, 6 ]   // false
[ 1, 2, 3 ] ANY IN [ 1, 42 ]     // true
[ 1, 2, 3 ] ANY == 2             // true
[ 1, 2, 3 ] ANY == 4             // false
[ 1, 2, 3 ] ANY > 0              // true
[ 1, 2, 3 ] ANY <= 1             // true
[ 1, 2, 3 ] NONE < 99            // false
[ 1, 2, 3 ] NONE > 10            // true
[ 1, 2, 3 ] ALL > 2              // false
[ 1, 2, 3 ] ALL > 0              // true
[ 1, 2, 3 ] ALL >= 3             // false
["foo", "bar"] ALL != "moo"      // true
["foo", "bar"] NONE == "bar"     // false
["foo", "bar"] ANY == "foo"      // true

    </code>
</pre>
<h2 id="logical-operators">Logical operators</h2>
<p>The following logical operators are supported in FQL:</p>
<ul>
<li><code>&amp;&amp;</code> logical and operator</li>
<li><code>||</code> logical or operator</li>
<li><code>!</code> logical not/negation operator</li>
</ul>
<p>FQL also supports the following alternative forms for the logical operators:</p>
<ul>
<li><code>AND</code> logical and operator</li>
<li><code>OR</code> logical or operator</li>
<li><code>NOT</code> logical not/negation operator</li>
</ul>
<p>The alternative forms are aliases and functionally equivalent to the regular operators.</p>
<p>The two-operand logical operators in FQL will be executed with short-circuit evaluation (except if one of the operands is or includes a subquery. In this case the subquery will be pulled out an evaluated before the logical operator).</p>
<p>The result of the logical operators in FQL is defined as follows:</p>
<ul>
<li><code>lhs &amp;&amp; rhs</code> will return <code>lhs</code> if it is <code>false</code> or would be <code>false</code> when converted into a boolean. If <code>lhs</code> is <code>true</code> or would be <code>true</code> when converted to a boolean, <code>rhs</code> will be returned.</li>
<li><code>lhs || rhs</code> will return <code>lhs</code> if it is <code>true</code> or would be <code>true</code> when converted into a boolean. If <code>lhs</code> is <code>false</code> or would be <code>false</code> when converted to a boolean, <code>rhs</code> will be returned.</li>
<li><code>! value</code> will return the negated value of value converted into a boolean</li>
</ul>
<pre class="hl">
    <code class="fql">
        
u.age > 15 && u.address.city != ""
true || false
NOT u.isInvalid
1 || ! 0

    </code>
</pre>
<p>Passing non-boolean values to a logical operator is allowed. Any non-boolean operands will be casted to boolean implicitly by the operator, without making the query abort.</p>
<p>The conversion to a boolean value works as follows:</p>
<ul>
<li><code>NONE</code> will be converted to <code>false</code></li>
<li>boolean values remain unchanged</li>
<li>all numbers unequal to zero are <code>true</code>, zero is <code>false</code></li>
<li>an empty string is <code>false</code>, all other strings are <code>true</code></li>
<li>arrays, objects, binary and custom types are <code>true</code>, regardless of their contents</li>
</ul>
<p>The result of <em>logical and</em> and <em>logical or</em> operations can now have any data type and is not necessarily a boolean value.</p>
<p>For example, the following logical operations will return boolean values:</p>
<pre class="hl">
    <code class="fql">
        
25 > 1 && 42 != 7                          // true
22 IN [ 23, 42 ] || 23 NOT IN [ 22, 7 ]    // true
25 != 25                                   // false

    </code>
</pre>
<p>whereas the following logical operations will not return boolean values:</p>
<pre class="hl">
    <code class="fql">
        
1 || 7                                     // 1
NONE || "foo"                              // "foo"
NONE && true                               // NONE
true && 23                                 // 23

    </code>
</pre>
<h2 id="arithmetic-operators">Arithmetic operators</h2>
<p>Arithmetic operators perform an arithmetic operation on two numeric operands. The result of an arithmetic operation is again a numeric value.</p>
<p>FQL supports the following arithmetic operators:</p>
<ul>
<li><code>+</code> addition</li>
<li><code>-</code> subtraction</li>
<li><code>*</code> multiplication</li>
<li><code>/</code> division</li>
<li><code>%</code> modulus</li>
</ul>
<p>Unary plus and unary minus are supported as well:</p>
<pre class="hl">
    <code class="fql">
        
LET x = -5
LET y = 1
RETURN [-x, +y]
// [5, 1]

    </code>
</pre>
<p>For exponentiation, there is a numeric function POW(). The syntax base ** exp is not supported.</p>
<p>Some example arithmetic operations:</p>
<pre class="hl">
    <code class="fql">
        
1 + 1
33 - 99
12.4 * 4.5
13.0 / 0.1
23 % 7
-15
+9.99

    </code>
</pre>
<p>The arithmetic operators accept operands of any type. Passing non-numeric values to an arithmetic operator will cast the operands to numbers:</p>
<ul>
<li><code>NONE</code> will be converted to <code>0</code></li>
<li><code>false</code> will be converted to <code>0</code>, <code>true</code> will be converted to <code>1</code></li>
<li>a valid numeric value remains unchanged, but <code>NaN</code> and Infinity will be converted to <code>0</code></li>
<li>string values are converted to a number if they contain a valid string representation of a number. Any whitespace at the start or the end of the string is ignored. Strings with any other contents are converted to the number <code>0</code></li>
<li>an empty array is converted to <code>0</code>, an array with one member is converted to the numeric representation of its sole member. Arrays with more members are converted to the number <code>0</code>.</li>
<li>objects, binary and custom types are converted to the number <code>0</code>.</li>
</ul>
<p>Here are a few examples:</p>
<pre class="hl">
    <code class="fql">
        
1 + "a"                 // 1
1 + "99"                // 100
1 + NONE                // 1
NONE + 1                // 1
3 + [ ]                 // 3
24 + [ 2 ]              // 26
24 + [ 2, 4 ]           // 0
25 - NONE               // 25
17 - true               // 16
23 * { }                // 0
5 * [ 7 ]               // 35
24 / "12"               // 2
1 / 0                   // 0

    </code>
</pre>
<h2 id="ternary-operator">Ternary operator</h2>
<p>FQL also supports a ternary operator that can be used for conditional evaluation. The ternary operator expects a boolean condition as its first operand, and it returns the result of the second operand if the condition evaluates to true, and the third operand otherwise.</p>
<pre class="hl">
    <code class="fql">
        
u.age > 15 || u.active == true ? u.userId : null

    </code>
</pre>
<p>There is also a shortcut variant of the ternary operator with just two operands. This variant can be used when the expression for the boolean condition and the return value should be the same:</p>
<pre class="hl">
    <code class="fql">
        
u.value ? : 'value is null, 0 or not present'

    </code>
</pre>
<h2 id="range-operator">Range operator</h2>
<p>FQL supports expressing simple numeric ranges with the <code>..</code> operator. This operator can be used to easily iterate over a sequence of numeric values.</p>
<p>The <code>..</code> operator will produce an array of the integer values in the defined range, with both bounding values included.</p>
<pre class="hl">
    <code class="fql">
        
2010..2013

    </code>
</pre>
<p>will produce the following result:</p>
<pre class="hl">
    <code class="fql">
        
[ 2010, 2011, 2012, 2013 ]

    </code>
</pre>
<h2 id="operator-precedence">Operator precedence</h2>
<p>The operator precedence in FQL is similar as in other familiar languages (lowest precedence first):</p>
<ul>
<li><code>? :</code> ternary operator</li>
<li><code>||</code> logical or</li>
<li><code>&amp;&amp;</code> logical and</li>
<li><code>==</code>, <code>!=</code> equality and inequality</li>
<li><code>IN</code> in operator</li>
<li><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>&gt;</code> less than, less equal, greater equal, greater than</li>
<li><code>+</code>, <code>-</code> addition, subtraction</li>
<li><code>*</code>, <code>/</code>, <code>%</code> multiplication, division, modulus</li>
<li><code>!</code>, <code>+</code>, <code>-</code> logical negation, unary plus, unary minus</li>
<li><code>()</code> function call</li>
<li><code>.</code> member access</li>
<li><code>[]</code> indexed value access</li>
</ul>
<p>The parentheses <code>(</code> and <code>)</code> can be used to enforce a different operator evaluation order.</p>

</article>
        </section>
    </div>
</div>

        </div><footer class="footer">
    <div class="columns">
        <div class="column is-4 is-hidden-mobile">
            <a href="https://github.com/MontFerret">
                © 2018-2020 MontFerret Team
            </a>
        </div>
        <div class="column is-4 has-text-centered">
            <img src="/img/logo.png" width="30" height="30" />
        </div>
        <div class="column is-4 has-text-right is-hidden-mobile">
            <a href="#">BACK TO TOP Δ</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js" integrity="sha256-js+I1fdbke/DJrW2qXQlrw7VUEqmdeFeOW37UC0bEiU=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/bash.min.js" integrity="sha256-zXrlim8wsIvcEFjsD3THiAfTvtPZifqx8q0rxegiWQc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/go.min.js" integrity="sha256-LVuWfOU0rWFMCJNl1xb3K2HSWfxtK4IPbqEerP1P83M=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@montferret/highlight-fql@1.1.0/index.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            
            hljs.registerLanguage('fql', registerFQL);
            hljs.initHighlighting();
        });
    </script>
</footer>
</body>
</html>
