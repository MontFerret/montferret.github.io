<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ferret</title>

    <meta name="generator" content="Hugo 0.111.3">

    <link
        href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700"
        rel="stylesheet"
    />

    
    <link rel="stylesheet" href="https://www.montferret.dev/sass/main.min.abb9ad2a13db31eb59f44083603c76c8239bcbf3b2193f634e670e9b2f270b08.css" />
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png" />
    <link
        rel="apple-touch-icon"
        sizes="114x114"
        href="/favicon/apple-icon-114x114.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="120x120"
        href="/favicon/apple-icon-120x120.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="144x144"
        href="/favicon/apple-icon-144x144.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="152x152"
        href="/favicon/apple-icon-152x152.png"
    />
    <link
        rel="apple-touch-icon"
        sizes="180x180"
        href="/favicon/apple-icon-180x180.png"
    />
    <link
        rel="icon"
        type="image/png"
        sizes="192x192"
        href="/favicon/android-icon-192x192.png"
    />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
    <link rel="manifest" href="/favicon/manifest.json" />
    
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135792752-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-135792752-1');
    </script>
</head>
<body><nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/img/logo.png" width="30" height="30" /> <small class="logo">ferret</small>
            </a>

            <a
                id="navbar-burger"
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="primary-nav"
            >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        
        <div id="primary-nav" class="navbar-menu">
            <div class="navbar-start">
                
                
                
                        
                        <a href="/try/" class="navbar-item "
                        title=Try&#32;it id=repl>
                            Try it
                        </a>
                
                        
                        <a href="/docs/introduction" class="navbar-item "
                        title=Project&#32;documentation id=docs>
                            Docs
                        </a>
                
                        
                        <a href="/blog/" class="navbar-item "
                        title=Blog id=blog>
                            Blog
                        </a>
                
                        
                        <a href="/cookbook/google-search" class="navbar-item "
                        title=Cookbook id=cookbook>
                            Cookbook
                        </a>
                
            </div>

            <div class="navbar-end">
                
                
                        <a href="https://opencollective.com/ferret" class="navbar-item "
                        title=Open&#32;collective id=donate>
                            Donate
                        </a>
                
                        <a href="https://github.com/MontFerret/ferret" class="navbar-item "
                        title=GitHub&#32;repository id=github>
                            GitHub
                        </a>
                
            </div>
        </div>
    </div>
</nav>

<script>
    
    
    (function(){
        let navburger = document.getElementById("navbar-burger");
        navburger.addEventListener("click", function() {
            let target = this.getAttribute("data-target");
            let el = document.getElementById(target);

            el.classList.toggle("is-active");
        })
    })();
</script><div id="content">
    <div class="content section docs">
    <div class="columns">
        <section class="column is-2">
            <aside class="menu">
    
    











<p class="menu-label">
    General
</p>


<ul class="menu-list">
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/introduction/" class="">
                    Introduction
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/installation/" class="">
                    Installation
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/getting-started/" class="">
                    Getting started
                </a>  
            </li>

            
        
    
        
        
        

        
    
        
        
        

        
    


</ul>



    
    
        

        
            











<p class="menu-label">
    Query language
</p>


<ul class="menu-list">
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/introduction/" class="">
                    Introduction
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/syntax/" class="">
                    Syntax
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/data-types/" class="is-active">
                    Data types
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/" class="">
                    Operators
                </a>  
            </li>

            
                
                    












<ul class="menu-list">
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/for/" class="">
                    FOR
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/return/" class="">
                    RETURN
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/filter/" class="">
                    FILTER
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/sort/" class="">
                    SORT
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/limit/" class="">
                    LIMIT
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/let/" class="">
                    LET
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/operators/high-level/collect/" class="">
                    COLLECT
                </a>  
            </li>

            
        
    






</ul>

                
            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/bind-parameters/" class="">
                    Bind parameters
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/type-value-order/" class="">
                    Type and value order
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/query-results/" class="">
                    Query results
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/fql/query-errors/" class="">
                    Query errors
                </a>  
            </li>

            
        
    




    
    



</ul>

        
    

    
    
        

        
            











<p class="menu-label">
    stdlib
</p>


<ul class="menu-list">
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/arrays/" class="">
                    arrays
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/collections/" class="">
                    collections
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/datetime/" class="">
                    datetime
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/html/" class="">
                    html
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/io-fs/" class="">
                    io/fs
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/io-net-http/" class="">
                    io/net/http
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/math/" class="">
                    math
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/objects/" class="">
                    objects
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/path/" class="">
                    path
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/strings/" class="">
                    strings
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/testing/" class="">
                    testing
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/types/" class="">
                    types
                </a>  
            </li>

            
        
    
        
        
        

        
            
            <li>
                <a href="https://www.montferret.dev/docs/stdlib/utils/" class="">
                    utils
                </a>  
            </li>

            
        
    






</ul>

        
    



</aside>

        </section>

        <section id="main" class="column is-8">
            <article id="content" class="has-text-justified">
    


<h1 id="data-types">
<a href="#data-types">
Data types
</a>
</h1>
<p>FQL supports both primitive data types consisting of exactly one value and compound data types comprised of multiple values. The following types are available:</p>
<table class="table">
    <thead>
        <tr>
            <th>Data type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>none</td>
            <td>An empty value, also: the absence of a value</td>
        </tr>
        <tr>
            <td>boolean</td>
            <td>Boolean truth value with possible values false and true</td>
        </tr>
        <tr>
            <td>integer</td>
            <td>Signed whole number</td>
        </tr>
        <tr>
            <td>float</td>
            <td>Signed floating point number</td>
        </tr>
        <tr>
            <td>string</td>
            <td>UTF-8 encoded text value</td>
        </tr>
        <tr>
            <td>array</td>
            <td>Sequence of values, referred to by their positions</td>
        </tr>
        <tr>
            <td>object</td>
            <td>Sequence of values, referred to by their names</td>
        </tr>
        <tr>
            <td>binary</td>
            <td>Sequence of binary values</td>
        </tr>
        <tr>
            <td>custom</td>
            <td>User defined types</td>
        </tr>
    </tbody>
</table>



<h2 id="primitive-types">
<a href="#primitive-types">
Primitive types
</a>
</h2>
<p>


<h3 id="none-value">
<a href="#none-value">
None value
</a>
</h3>
A none value can be used to represent an empty or absent value. It is different from a numerical value of zero (null != 0) and other falsy values (false, zero-length string, empty array or object). It is also known as nil or null in other languages.</p>
<p>


<h3 id="boolean-data-type">
<a href="#boolean-data-type">
Boolean data type
</a>
</h3>
The Boolean data type has two possible values, <code>true</code> and <code>false</code>. They represent the two truth values in logic and mathematics.</p>
<p>


<h3 id="numeric-literals">
<a href="#numeric-literals">
Numeric literals
</a>
</h3>
Numeric literals can be integers or floating-point numbers. They can optionally be signed with the + or - symbols. A decimal point . is used as separator for the optional fractional part.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-196-text" class="code-editor-text" style="height: 200px;">
                
1
+1
42
-1
-42
0.5
1.23
-99.99

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-196-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h3 id="string-literals">
<a href="#string-literals">
String literals
</a>
</h3>
String literals must be enclosed in single or double quotes. If the used quote character is to be used itself within the string literal, it must be escaped using the backslash symbol. A literal backslash also needs to be escaped with a backslash.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-852-text" class="code-editor-text" style="height: 245px;">
                
"yikes!"
"don't know"
"this is a \"quoted\" word"
"this is a longer string."
"the path separator on Windows is \\"

'yikes!'
'don\'t know'
'this is a "quoted" word'
'this is a longer string.'
'the path separator on Windows is \\'

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-852-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h2 id="compound-types">
<a href="#compound-types">
Compound types
</a>
</h2>
FQL supports two compound types:</p>
<ul>
<li>array: A composition of unnamed values, each accessible by their positions.</li>
<li>object: A composition of named values, each accessible by their names.</li>
<li>binary: An array of binary values.</li>
</ul>
<p>


<h3 id="arrays">
<a href="#arrays">
Arrays
</a>
</h3>
The first supported compound type is the array type. Arrays are effectively sequences of (unnamed / anonymous) values. Individual array elements can be accessed by their positions. The order of elements in an array is important.</p>
<p>An array declaration starts with a left square bracket <code>[</code> and ends with a right square bracket <code>]</code>. The declaration contains zero, one or more expressions, separated from each other with the comma <code>,</code> symbol. Whitespace around elements is ignored in the declaration, thus line breaks, tab stops and blanks can be used for formatting.</p>
<p>In the easiest case, an array is empty and thus looks like:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-473-text" class="code-editor-text" style="height: 85px;">
                
[ ]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-473-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Array elements can be any legal expression values. Nesting of arrays is supported.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-888-text" class="code-editor-text" style="height: 135px;">
                
[ true ]
[ 1, 2, 3 ]
[ -99, "yikes!", [ false, ["no"], [] ], 1 ]
[ [ "fox", "marshal" ] ]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-888-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Individual array values can later be accessed by their positions using the [] accessor. The position of the accessed element must be a numeric value. Positions start at 0.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-151-text" class="code-editor-text" style="height: 150px;">
                
// access 1st array element (elements start at index 0)
u.friends[0]

// access 3rd array element
u.friends[2]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-151-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h3 id="objects">
<a href="#objects">
Objects
</a>
</h3>
The other supported compound type is the object type. Objects are a composition of zero to many attributes. Each attribute is a name/value pair. Object attributes can be accessed individually by their names. This data type is also known as dictionary, map, associative array and other names.</p>
<p>Object declarations start with a left curly bracket <code>{</code> and end with a right curly bracket <code>}</code>. An object contains zero to many attribute declarations, separated from each other with the <code>,</code> symbol. Whitespace around elements is ignored in the declaration, thus line breaks, tab stops and blanks can be used for formatting.</p>
<p>In the simplest case, an object is empty. Its declaration would then be:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-928-text" class="code-editor-text" style="height: 90px;">
                
{ }

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-928-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Each attribute in an object is a name/value pair. Name and value of an attribute are separated using the colon <code>:</code> symbol. The name is always a string, whereas the value can be of any type including sub-objects.</p>
<p>The attribute name is mandatory - there can&rsquo;t be anonymous values in an object. It can be specified as a quoted or unquoted string:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-842-text" class="code-editor-text" style="height: 120px;">
                
{ name: … }    // unquoted
{ 'name': … }  // quoted (apostrophe / "single quote mark")
{ "name": … }  // quoted (quotation mark / "double quote mark")

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-842-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>It must be quoted if it contains whitespace, escape sequences or characters other than ASCII letters (a-z, A-Z), digits (0-9), underscores (_) and dollar signs ($). The first character has to be a letter, underscore or dollar sign.</p>
<p>If a keyword is used as an attribute name then the attribute name must be quoted or escaped by backticks:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-914-text" class="code-editor-text" style="height: 150px;">
                
{ return: … }    // error, return is a keyword!
{ 'return': … }  // quoted
{ "return": … }  // quoted
{ `return`: … }  // escaped (backticks)
{ ´return´: … }  // escaped (ticks)

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-914-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Attribute names can be computed using dynamic expressions, too. To disambiguate regular attribute names from attribute name expressions, computed attribute names must be enclosed in square brackets <code>[ … ]</code>:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-699-text" class="code-editor-text" style="height: 90px;">
                
{ [ CONCAT("test/", "bar") ] : "someValue" }

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-699-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>There is also shorthand notation for attributes which is handy for returning existing variables easily:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-303-text" class="code-editor-text" style="height: 120px;">
                
LET name = "Peter"
LET age = 42
RETURN { name, age }

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-303-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>The above is the shorthand equivalent for the generic form:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-168-text" class="code-editor-text" style="height: 120px;">
                
LET name = "Peter"
LET age = 42
RETURN { name: name, age: age }

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-168-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Any valid expression can be used as an attribute value. That also means nested objects can be used as attribute values:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-125-text" class="code-editor-text" style="height: 120px;">
                
{ name : "Peter" }
{ "name" : "Vanessa", "age" : 15 }
{ "name" : "John", likes : [ "Swimming", "Skiing" ], "address" : { "street" : "Cucumber lane", "zip" : "94242" } }

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-125-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Individual object attributes can later be accessed by their names using the dot <code>.</code> accessor:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-770-text" class="code-editor-text" style="height: 105px;">
                
u.address.city.name
u.friends[0].name.first

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-770-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>Attributes can also be accessed using the square bracket <code>[]</code> accessor:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-565-text" class="code-editor-text" style="height: 105px;">
                
u["address"]["city"]["name"]
u["friends"][0]["name"]["first"]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-565-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>In contrast to the dot accessor, the square brackets allow for expressions:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-490-text" class="code-editor-text" style="height: 120px;">
                
LET attr1 = "friends"
LET attr2 = "name"
u[attr1][0][attr2][ CONCAT("fir", "st") ]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-490-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>



<h3 id="binary-value">
<a href="#binary-value">
Binary value
</a>
</h3>
<p>Binary value is an array of bytes that represent binary data like files, images, audio or video.</p>








<div class="code-editor">

    

    <button id="code-editor-849-run-button" class="run button is-pulled-right is-outlined is-light is-radiusless code-editor-button">Run</button>

    <div class="columns">
        <div class="column is-6">
            <div id="code-editor-849-text" class="code-editor-text" style="height: 105px;">
                
RETURN IO::NET::HTTP::GET("https://www.montferret.dev/")

            </div>
        </div>
        <div class="column is-6">
            <div id="code-editor-849-result" class="code-editor-result" style="height: 105px;"></div>
        </div>
    </div>
    

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            function createEditor(id, mode) {
                const editor = ace.edit(id);
                editor.setTheme("ace\/theme\/tomorrow_night");
                editor.session.setMode("ace/mode/" + mode);
                editor.setOptions({
                    displayIndentGuides: false,
                    printMargin: false
                });

                return editor;
            }

            const btn = document.querySelector('#code-editor-849-run-button');
            const textEditor = createEditor('code-editor-849-text', 'aql');
            const resultEditor = createEditor('code-editor-849-result', 'json');
            resultEditor.setReadOnly(true);

            function setContent(editor, content) {
                editor.setValue(content, -1);
            }

            let isRunning = false;

            function onStart() {
                isRunning = true;
                textEditor.setReadOnly(true);
                btn.classList.add('is-loading');
            }

            function onEnd(result) {
                isRunning = false;
                textEditor.setReadOnly(false);
                btn.classList.remove('is-loading');

                setContent(resultEditor, result);
            }

            btn.addEventListener('click', () => {
                if (isRunning) {
                    return;
                }

                const body = {
                        text: textEditor.getValue(),
                        params: JSON.parse("{}")
                };

                onStart();
                fetch("https:\/\/worker-pucbyp2omq-ue.a.run.app", {
                    method: 'post',
                    cache: 'no-cache',
                    headers: {
                        'Content-Type': 'application/json,encoding=utf-8'
                    },
                    body: JSON.stringify(body)
                })
                    .then(r => {
                        if (r.status === 200) {
                            return r.json()
                        }
                        
                        if (r.status === 426) {
                            throw new Error(`Too many requests. Try again later.`);
                        }
                        
                        if (r.status === 400) {
                            return r.json().then((data) => {
                                throw new Error(data.error);
                            });
                        }
                        
                        throw new Error(`Unexpected error. Try again later.`);
                    })
                    .then((data) => {
                        onEnd(JSON.stringify(data, null, 4));
                    })
                    .catch((err) => {
                        onEnd(err.message);
                    });
            });
        }, false);
    </script>
</div>
<p>


<h2 id="custom-types">
<a href="#custom-types">
Custom types
</a>
</h2>
Custom types are the values defined by a user or author of a 3rd party library that extends FQL functionality.
The values can represent either specific primitives or compound types. For example, tt could be http cookies, database records, images and etc.</p>
<div class="notification is-warning">
  The feature is a runtime specific.
  Currently, it's the Go runtime.
</div>
<div class="notification is-warning">
  At this moment, the feature is supported in embedded mode only and not available via CLI.
</div>
<p>In order to define a custom value, it needs to have 2 Go types.
One should implement <code>core.Type</code> and another <code>core.Value</code>.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-200-text" class="code-editor-text" style="height: 155px;">
                
type Type interface {
    ID() int64
    String() string
    Equals(other Type) bool
}

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-200-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-603-text" class="code-editor-text" style="height: 220px;">
                
type Value interface {
    json.Marshaler
    Type() Type
    String() string
    Compare(other Value) int64
    Unwrap() interface{}
    Hash() uint64
    Copy() Value
}

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-603-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>For simplicity, there is a helper function in <code>core</code> package, that allows to create a type:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-773-text" class="code-editor-text" style="height: 90px;">
                
var MyValueType = core.NewType("MyValueType")

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-773-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p><code>core.Value</code> interface provides a basic set of functionality which allows the FQL runtime to use a custom value.</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-627-text" class="code-editor-text" style="height: 120px;">
                
LET myType = SOME_FUNC()

RETURN [myType]

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-627-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h3 id="reading-data">
<a href="#reading-data">
Reading data
</a>
</h3>
By default, implementing <code>core.Value</code> gives the FQL runtime just a basic set of functionality to work with values. This means that a type which implemented only <code>core.Value</code> interfaces is treated as a primitive data type.</p>
<p>If the underlying data type is compound and there is a need for providing access to underlying data, the type should implement <code>core.Getter</code> interface:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-972-text" class="code-editor-text" style="height: 120px;">
                
type Getter interface {
    GetIn(ctx context.Context, path []Value) (Value, error)
}

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-972-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>After that, it will be possible to use <code>.</code> or <code>[]</code> accessors:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-210-text" class="code-editor-text" style="height: 120px;">
                
LET myType = SOME_FUNC()

RETURN myType.someProperty

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-210-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'aql');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h3 id="iterations">
<a href="#iterations">
Iterations
</a>
</h3>
In order to use a custom type as source for <code>FOR IN</code> statement, it must implement <code>core.Iterable</code> interface:</p>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-5-text" class="code-editor-text" style="height: 120px;">
                
type Iterable interface {
    Iterate(ctx context.Context) (Iterator, error)
}

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-5-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>




<div class="code-editor">
    <div class="columns">
        <div class="column is-full">
            <div id="code-657-text" class="code-editor-text" style="height: 120px;">
                
type Iterator interface {
    Next(ctx context.Context) (value Value, key Value, err error)
}

            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editor = ace.edit('code-657-text');
            editor.setTheme("ace/theme/tomorrow_night");
            editor.session.setMode("ace/mode/" + 'golang');
            editor.setOptions({
                readOnly: true,
                highlightActiveLine: false,
                highlightGutterLine: false,
                displayIndentGuides: false,
                printMargin: false
            });
            editor.renderer.$cursorLayer.element.style.display = "none"
        }, false);
    </script>
</div>
<p>


<h3 id="clean-up">
<a href="#clean-up">
Clean up
</a>
</h3>
If a custom type needs to do some clean up after a query execution, it needs to implement Go&rsquo;s <code>io.Closer</code> interface.</p>

</article>
        </section>
        
        

    </div>
</div>

        </div><footer class="footer">
    <div class="columns">
        <div class="column is-4 is-hidden-mobile">
            <p>
                <a href="https://github.com/MontFerret">
                    © 2018-2023 MontFerret Team
                </a>
            </p>
            <p>
                <a href="https://www.montferret.dev/blog/index.xml">RSS</a>
            </p>
        </div>
        <div class="column is-4 has-text-centered">
            <img src="/img/logo.png" width="30" height="30" />
        </div>
        <div class="column is-4 has-text-right is-hidden-mobile">
            <a href="#">BACK TO TOP Δ</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/ace.min.js"
        integrity="sha256-qCCcAHv/Z0u7K344shsZKUF2NR+59ooA3XWRj0LPGIQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/mode-aql.min.js"
        integrity="sha256-X0EL61aEe9ZmA9OkWgfPw7QMJc2DPs3/RcarIt15j8Y=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/mode-json.min.js"
        integrity="sha256-oMH6MIx8AGl0OseaL8vGcdSb9ons1Jprkf4xXAyzvNc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/mode-golang.min.js"
        integrity="sha256-0SvSdpO3x7J6KQZ5Y9ghI0wph0l0DDMUaOQu+Swjup0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/theme-tomorrow_night.min.js"
        integrity="sha256-NbswWaBBhaLvBJ18ocfQ7sC/Iy/+7KvGq0YRjvLRpk4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.11/mode-sh.min.js"
        integrity="sha256-uzCsgXA65+SIa2CRZSX6+Ls6DKZkddI5rtRXr1uOE2Y=" crossorigin="anonymous"></script>
</footer></body>
</html>
